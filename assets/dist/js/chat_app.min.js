function scrollToBottom(){$scrollableArea=$(".messageContainer"),$scrollableArea.scrollTop($scrollableArea[0].scrollHeight)}function formatAMPM(e){var s=e.getHours(),n=e.getMinutes(),t=s>=12?"pm":"am";return(s=(s%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+t}$(function(){var e=io.connect(),s=$("#chatWindow"),n=$("#messageForm"),t=$("#messageTxt"),o=$("#conversationMessages"),a=$("#loginFormContainer"),l=$("#loginForm"),r=$("#usersContainer"),m=$("#onlineUsers"),c=$("#username"),g=null;n.submit(function(s){s.preventDefault(),console.log("in sendChat(). Sent by "+g),e.emit("send message",t.val()),t.val("")}),t.on("keyup",function(s){console.log(g+" is typing"),e.emit("typing",g)}),e.on("new message",function(e){var s=formatAMPM(new Date),n="";e.userName!=g?n+='<div class="row chat-msg-container receive-msg-container">':n+='<div class="row chat-msg-container sent-msg-container">',n+='<div class="col-10 msg-txt">',e.userName!=g?n+='<div class="messages receive-msg-txt">':n+='<div class="messages sent-msg-txt">',n+="<p>"+e.msgTxt+"</p>",n+='<time datetime="">'+e.userName+" "+s+" </time>",n+="</div>",n+="</div>",n+="</div>",o.append(n),scrollToBottom()}),l.submit(function(n){n.preventDefault(),e.emit("new user",c.val(),function(e){e&&(a.addClass("d-none"),r.removeClass("d-none"),s.removeClass("d-none"))}),g=c.val(),c.val("")}),e.on("get users",function(e){var s="";for(i=0;i<e.length;i++)s+='<li class="list-group-item">'+e[i]+"</li>";m.html(s)}),e.on("typing",function(e){$("#displayTyping").html(e.userName+" is typing message")})}),scrollToBottom();
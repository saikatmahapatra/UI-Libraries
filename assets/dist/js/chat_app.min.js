function scrollToBottom(){$scrollableArea=$(".messageContainer"),$scrollableArea.scrollTop($scrollableArea[0].scrollHeight)}function formatAMPM(e){var s=e.getHours(),n=e.getMinutes(),o=s>=12?"pm":"am";return(s=(s%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+o}$(function(){var e=io.connect(),s=$("#chatWindow"),n=$("#messageForm"),o=$("#messageTxt"),t=$("#conversationMessages"),a=$("#loginFormContainer"),r=$("#loginForm"),l=$("#usersContainer"),m=$("#onlineUsers"),c=$("#username");n.submit(function(s){s.preventDefault(),e.emit("send message",o.val()),o.val("")}),e.on("new message",function(e){var s=formatAMPM(new Date),n="";n+='<div class="row chat-msg-container sent-msg-container">',n+='<div class="col-10 msg-txt">',n+='<div class="messages sent-msg-txt">',n+="<p>"+e.msgTxt+"</p>",n+='<time datetime="">'+e.userName+" "+s+" </time>",n+="</div>",n+="</div>",n+="</div>",t.append(n),scrollToBottom()}),r.submit(function(n){n.preventDefault(),e.emit("new user",c.val(),function(e){e&&(a.addClass("d-none"),l.removeClass("d-none"),s.removeClass("d-none"))}),c.val("")}),e.on("get users",function(e){var s="";for(i=0;i<e.length;i++)s+='<li class="list-group-item">'+e[i]+"</li>";m.html(s)})}),scrollToBottom();
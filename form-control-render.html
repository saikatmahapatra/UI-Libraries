<!DOCTYPE html>
<html>
  <head>
    <title>Bootstrap 3 Components</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <!-- Bootstrap core CSS -->
    <link href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" media="screen">
 
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.js"></script>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.js"></script>
    <![endif]-->
	<style type="text/css">
		body{margin-top:70px; margin-bottom:30px;}
		.example-container{border: 1px solid #ccc; border-radius:5px; margin-bottom: 10px;padding:10px;}
	</style>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/js/bootstrap.min.js"></script>
  </head>
  <body>
	
	<!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Bootstrap theme</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
  
	<div class="container">
		<div class="col-md-4">
			<div class="panel panel-default">
			<div class="panel-heading">Panel heading</div>
			  <div class="panel-body">
					<div><span id="cb_counter"></span> item(s) selected</div>
					<div>
						<input class="rc-checkbox" type="checkbox" id="textbox" data-controltype="textbox"></input><label for="textbox"> Textbox</label>
						
					</div>
					<div>
						<input class="rc-checkbox" type="checkbox" id="selectoption" data-controltype="selectoption"></input><label for="selectoption"> Select Option</label>
					</div>
					<div>
						<input class="rc-checkbox" type="checkbox" id="textarea" data-controltype="textarea"></input><label for="textarea"> Textarea</label>
					</div>
			  </div>
			</div>
		</div>
		<div class="col-md-8">
			<div class="panel panel-default">
			<div class="panel-heading">Panel heading</div>
			<div id="control-container" class="panel-body">
				
			</div>
		</div>
		</div>
	</div> <!--/.container--->
	
	<script>
	var UI = {
		countCheckedCheckbox: function(){
			var c = $('input[type="checkbox"][class="rc-checkbox"]:checked').length;
			$('#cb_counter').html(c);
		},
		renderControl(type){
			switch(type){
				case 'textbox':
					var html = '<div class="form-group control-'+type+'" data-controltype="'+type+'">';
					html+='<div class="col-md-8">';
					html+='<input type="text" name="demoname[]" class="form-control" placeholder="Enter text here"/>';					
					html+='</div>';
					html+='<div class="">';
					html+='<a href="#" class="remove-control">Remove</a>';
					
					html+='</div>';
					html+='</div>';
					return html;
					break;
				default:
					return '<div class="alert alert-danger">No data-controltype attribute found in the selected checkbox</div>';
			}
		},
		removeDomObj: function(obj){
			$(obj).remove();
		},
		countControl: function(type){
			var c = $('div.control-'+type).length;
		}
	}; // end of UI obj
	
	
	
	// DOM manipulation starts here
	$(document).ready(function(e){
		UI.countCheckedCheckbox();
		// Count Checked Items
		$('input[type="checkbox"][class="rc-checkbox"]').on('click',function(){
			UI.countCheckedCheckbox();
			var contolType = $(this).attr('data-controltype');
			if($(this).prop('checked')===true){				
				var html = UI.renderControl(contolType);
				$('#control-container').append(html);
			}else{
				$('.control-'+contolType).remove();
			}
		});
	});
	$(document).on('click','a.remove-control',function(e){
		var domObj = $(this).parents('div[class*="control-"]');
		UI.removeDomObj(domObj);		
	});
	</script>
  </body>
</html>
<!DOCTYPE html>
<html>
  <head>
    <title>Bootstrap 3 Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <!-- Bootstrap core CSS -->
    <link href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet" media="screen">
 
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.js"></script>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.js"></script>
    <![endif]-->
	<style>
	body{
		margin: 30px;
	}
	
	.progress-thin .progress{
		height: 6px;
		margin-bottom: 3px;
		background-color: #dee2e6;
		overflow: hidden;
    }
	.progress-thin .text-sm{
		font-size: 12px;
	}
	.progress-thin .text-bold{		
		font-weight: bold;
	}
	
	.bg-primary {
		background-color: #007bff !important;
	}
	.bg-info {
		background-color: #17a2b8 !important;
	}

	.bg-secondary {
		background-color: #6c757d !important;
	}
	.bg-dark {
		background-color: #343a40 !important;
	}
	.bg-light {
		background-color: #f8f9fa !important;
	}
	.bg-warning {
		background-color: #ffc107 !important;
	}
	.bg-danger {
		background-color: #dc3545 !important;
	}
	.bg-success {
		background-color: #28a745 !important;
	}
	</style>
  </head>
  <body>
    <div class="container">
		
		
		<div class="col-md-4 progress-thin"></div>
		
		
	</div><!-- /.container --> 
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
	
	<script>
	var mathches =[
					{
						"percentage": "0",
						"count": "1"
					},
					{
						"percentage": "1-25",
						"count": "108487"
					},
					{
						"percentage": "26-50",
						"count": "4"
					},
					{
						"percentage": "51-75",
						"count": "7"
					},
					{
						"percentage": "76-99",
						"count": "9"
					},
					{
						"percentage": "100",
						"count": "0"
					}
            ];
		

		function generateProgressBarIndicator(mathches){
			var barhtml ='';
			var array_length = mathches.length;
			var value = '';
			$.each(mathches, function(index,obj){			
				var percentageArr = obj.percentage.split("-");				
				var valueNow = 0;
				var matchCount = obj.count;
				if(percentageArr[1] == undefined){
					valueNow = percentageArr[0];
				}else{
					valueNow = percentageArr[1];
				}
				value = index/array_length;
				barhtml+='<div class="row">';
				barhtml+='<div class="col-xs-12 text-sm text-right"><span class="per">'+valueNow+'%</span><span class="count"> ('+matchCount+')</span></div>';
				barhtml+='<div class="col-xs-12">';
				barhtml+='<div class="progress">';
				barhtml+='<div class="progress-bar" role="progressbar" aria-valuenow="'+valueNow+'" aria-valuemin="0" aria-valuemax="100" style="width:'+valueNow+'%; background-color:'+getColor(value)+';"></div>';
				barhtml+='</div>';
				barhtml+='</div>';
				barhtml+='</div>';
			});			
			$('.progress-thin').html(barhtml);
		}
		
		function getColor(value){
			//value from 0 to 1
			var hue=((1-value)*120).toString(10);
			return ["hsl(",hue,",100%,50%)"].join("");
		}
		
		generateProgressBarIndicator(mathches);
	</script>
	
  </body>
</html>